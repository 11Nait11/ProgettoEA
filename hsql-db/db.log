/*C13*/SET SCHEMA PUBLIC
drop table if exists image cascade 
drop table if exists prodotto cascade 
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=479
INSERT INTO LOB_IDS VALUES(479,3,0,30)
DELETE FROM LOB_IDS WHERE LOB_ID=481
INSERT INTO LOB_IDS VALUES(481,3,0,30)
COMMIT
SET SCHEMA PUBLIC
drop table if exists recensione cascade 
drop table if exists utente cascade 
drop sequence image_seq if exists
drop sequence recensione_seq if exists
drop sequence utente_seq if exists
create sequence image_seq start with 1 increment by 50
create sequence recensione_seq start with 1 increment by 50
create sequence utente_seq start with 1 increment by 50
create table image (id bigint not null, image blob, primary key (id))
create table prodotto (id bigint generated by default as identity (start with 1), categoria varchar(255), condizione varchar(255), descrizione varchar(255), disponibilita varchar(255), immagine blob, nome_prodotto varchar(255), prezzo float(53) not null, venditore bigint not null, primary key (id))
create table recensione (id bigint not null, utente_id bigint not null, primary key (id))
create table utente (id bigint not null, cognome varchar(255), nome varchar(255), primary key (id))
alter table prodotto add constraint FK2kslg4c4wonq14gof16ikj8dx foreign key (venditore) references utente
alter table recensione add constraint FKb77d6048y1xbjljw1aaew6dt9 foreign key (utente_id) references utente
INSERT INTO UTENTE VALUES(1,'Bianchi','Paperino')
ALTER SEQUENCE PUBLIC.UTENTE_SEQ RESTART WITH 51
COMMIT
INSERT INTO UTENTE VALUES(2,'Rossi','Archimede')
ALTER SEQUENCE PUBLIC.UTENTE_SEQ RESTART WITH 101
COMMIT
/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO LOB_IDS VALUES(482,3,0,30)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 483
COMMIT
DELETE FROM BLOCKS WHERE BLOCK_ADDR=773
INSERT INTO BLOCKS VALUES(773,1,0)
INSERT INTO BLOCKS VALUES(774,2147482873,0)
DELETE FROM BLOCKS WHERE BLOCK_ADDR=773
INSERT INTO LOBS VALUES(773,1,0,482)
COMMIT
/*C13*/INSERT INTO PRODOTTO VALUES(1,'Abbigliamento','Nuovo','Maglietta in cotone a righe','Disponibile',482,'Maglietta',19.99E0,1)
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=482
INSERT INTO LOB_IDS VALUES(482,3,1,30)
COMMIT
/*C1*/INSERT INTO LOB_IDS VALUES(483,3,0,30)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 484
COMMIT
DELETE FROM BLOCKS WHERE BLOCK_ADDR=774
INSERT INTO BLOCKS VALUES(774,1,0)
INSERT INTO BLOCKS VALUES(775,2147482872,0)
DELETE FROM BLOCKS WHERE BLOCK_ADDR=774
INSERT INTO LOBS VALUES(774,1,0,483)
COMMIT
/*C13*/SET SCHEMA PUBLIC
INSERT INTO PRODOTTO VALUES(2,'Abbigliamento','Nuovo','Maglietta in cotone a righe','Disponibile',483,'Maglietta2',19.99E0,2)
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=483
INSERT INTO LOB_IDS VALUES(483,3,1,30)
COMMIT
/*C1*/INSERT INTO LOB_IDS VALUES(484,3,0,30)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 485
COMMIT
DELETE FROM BLOCKS WHERE BLOCK_ADDR=775
INSERT INTO BLOCKS VALUES(775,1,0)
INSERT INTO BLOCKS VALUES(776,2147482871,0)
DELETE FROM BLOCKS WHERE BLOCK_ADDR=775
INSERT INTO LOBS VALUES(775,1,0,484)
COMMIT
/*C13*/SET SCHEMA PUBLIC
INSERT INTO PRODOTTO VALUES(3,'Abbigliamento','Nuovo','Maglietta in cotone a righe','Disponibile',484,'Maglietta3',19.99E0,2)
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=484
INSERT INTO LOB_IDS VALUES(484,3,1,30)
COMMIT
SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
